<!DOCTYPE html>

<!-- Description and demo for https://github.com/zengabor/zenscroll -->

<html>

<head>
	<meta charset="utf-8">
	<title>Zenscroll - One JavaScript to Smooth-Scroll Them All</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="twitter:site" content="@zengabor">
	<meta name="twitter:creator" content="@zengabor">
	<meta name="twitter:card" content="summary">
	<meta property="og:url" content="http://zengabor.github.io/zenscroll/">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="Zenscroll">
	<meta property="og:title" content="Zenscroll">
	<link rel="author" href="http://www.gaborlenard.com/">
	<meta name="theme-color" content="#eee9e3">
	<link rel="icon" sizes="16x16" href="zen-16.png" type="image/png">
	<link rel="icon" sizes="192x192" href="zen-192.png" type="image/png">
	<link rel="icon" sizes="32x32" href="zen-32.png" type="image/png">
	<!--[if lt IE 9]>
		<script>"header main footer nav section figure figcaption time".replace(/\w+/g,function(n){document.createElement(n)})</script>
	<![endif]-->
	<link rel="stylesheet" type="text/css" href="styles.css">
	<!--[if lt IE 9]>
		<link rel="stylesheet" type="text/css" href="ie.css">
		<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	<![endif]-->
	<link rel="stylesheet" href="railscasts.css">
	<style>.loading body{visibility:hidden}body,.play-button{font-family:"Alegreya Sans", sans-serif}nav a,h2,h3,strong,.play-button{font-weight:700}h3{font-style:italic}.fallback body{font-family:"Avenir Next", Avenir, "Segoe UI", Calibri, "Helvetica Neue", Helvetica, sans-serif}.fallback h2,.fallback strong{font-weight:bold}.logotype h1{font-family:"Merienda One", serif;font-weight:normal}.fallback-logotype .logotype h1{font-family:"Iowan Old Style", "Hoefler Text", Literata, "Droid Serif", serif;font-style:italic}code{font-family:"PT Mono", monospace}.fallback-mono code{font-family:monospace}
	 z{}</style>
		<script async src="https://www.google-analytics.com/analytics.js"></script>
	<script>
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)}
	ga.l=+new Date
	ga('create', 'UA-66867856-1', 'auto')
	ga('send', 'pageview')
	</script>
</head>


<body>

	<header class="dark">
		<a class="logotype" href="https://github.com/zengabor/zenscroll">
			<h1>Zenscroll</h1>
			github.com/zengabor/zenscroll
		</a>
		<nav>
			<a href="#about">About</a>
			<a href="#gettingstarted">Getting&nbsp;&nbsp;Started</a>
			<a href="#howtouse">How&nbsp;&nbsp;to&nbsp;&nbsp;Use</a>
			<a href="#license">License</a>
		</nav>
	</header>
	
	<main id="main">

		<section class="hero dark">

			<h1 id="onejavascripttosmooth-scrollnbspthemnbspall">One JavaScript to Smooth-Scroll&nbsp;Them&nbsp;All</h1>
			
			<p>Smooth animated scrolling. Move&nbsp;elements&nbsp;into&nbsp;view, or&nbsp;scroll&nbsp;to any vertical&nbsp;position.</p>
			
			<p>1.2&nbsp;kilobyte of vanilla&nbsp;JavaScript. No&nbsp;dependencies.</p>
			

			<a class="hero-button" href="https://github.com/zengabor/zenscroll">View Zenscroll on GitHub</a>

		</section>

		<section class="content">

<h2 id="about">About</h2>

<p>Zenscroll is a vanilla JavaScript module that enables animated vertical scrolling to any element or any position within your document or within a DIV or other scrollable container.</p>

<p>Features:</p>

<ul>
<li>Smooth animated scrolling.</li>
<li>Automatic smooth-scolling on links within the same page.</li>
<li>Works even if the Back and Forward buttons are used (on compatible browsers).</li>
<li>Scroll to the top of a specific element.</li>
<li>Scrolling an element into view, making sure both top &amp; bottom are visible, if possible.</li>
<li>Scroll to an element and center it on the screen.</li>
<li>Customize the duration of the individual scroll operations.</li>
<li>If you provide a callback function it will be executed when the scrolling is done.</li>
<li>Specify the spacing between the element and the edge of the screen (e.g., for fixed navigation bars and footers).</li>
<li>Uses the browser’s built-in smooth-behavior if it’s enabled.</li>
<li>Just 1.2 kilobyte minimized &amp; gzipped.</li>
<li>No dependencies.</li>
</ul>

<p>Full support tested and works under:</p>

<ul>
<li>Android Browser 2.2+</li>
<li>Chrome for Android</li>
<li>Chrome 14+ (probably earlier too)</li>
<li>Edge</li>
<li>Firefox 9+</li>
<li>Internet Explorer 9+</li>
<li>iOS Safari 4+</li>
<li>Opera 10.6+ (probably earlier too)</li>
<li>Safari 4+</li>
<li>Windows Phone 8.1</li>
<li>Yandex 14.12</li>
</ul>

<p>Limited support (programmatic animated scroll in document) tested and works under:</p>

<ul>
<li>Firefox 3+</li>
<li>Internet Explorer 6+</li>
<li>iOS Safari 3+</li>
</ul>


<h2 id="gettingstarted">Getting Started</h2>

<h3 id="installingzenscroll">Installing Zenscroll</h3>

<p><a href="https://github.com/zengabor/zenscroll/archive/latest.zip">Download Zenscroll</a> and include it into your page. A good place is at the very bottom, just before the closing <code>&lt;/body&gt;</code> tag. For&nbsp;example:</p>

<pre><code class="html">    ...
    &lt;script src=&quot;zenscroll-min.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
</code></pre>

<p>You can also use npm to get Zenscroll:</p>

<pre><code>npm install zenscroll
</code></pre>

<h3 id="enablingnativesmooth-scrollinginthebrowser">Enabling native smooth-scrolling in the browser</h3>

<p>If you want to leverage the native smooth-scrolling by the browser (currently available in Firefox 36+ and Chrome 49+) then set the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-behavior"><code>scroll-behavior</code> CSS property</a> to <code>smooth</code> on the body and on the elements you want to scroll. E.g.,</p>

<pre><code class="css">body, .smooth-container { scroll-behavior: smooth }
</code></pre>

<p>If this is set and the browser supports it, Zenscroll will use the browser’s built-in support for smooth-scrolling. However, note that if you use the native smooth-scrolling then you loose the finer control options that Zenscroll offers: the speed settings of the animation, and the edge offset for links within the page. Only set this CSS property on the <code>body</code> or on the elements if you don’t need this level of control.</p>

<h3 id="disablingautomaticsmoothingonlocallinks">Disabling automatic smoothing on local links</h3>

<p>If you want to use Zenscroll programmatically but you don’t need the automatic smoothing on local links then set <code>window.noZensmooth</code> to a non-falsy value. In this case the event handler for automatic smoothing is not installed but you can still use everything, like <code>zenscroll.intoView()</code>, etc. It’s important to set this value before Zenscroll is executed, otherwise the handler will be installed. So make sure that setting the variable comes before the loading of the script. For&nbsp;example:</p>

<pre><code class="html">    ...
    &lt;script&gt;window.noZensmooth = true&lt;/script&gt;
    &lt;script src=&quot;zenscroll-min.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
</code></pre>

<p>(I consider this a rare scenario that’s why I keep the default behavior of installing the event handler.)</p>


<h2 id="howtouse">How to use</h2>

<h3 id="1.smoothscrollwithinyourpage">1. Smooth scroll within your page</h3>

<p>If Zenscroll is included in your page it will automatically animate the scrolling to anchors on the same page.</p>

<p>However, automatic smooth scrolling within the same page is not enabled in these two cases:</p>

<ol>
<li>If you set <code>window.noZensmooth</code> to a non-falsy value (see <a href="#disablingautomaticsmoothingonlocallinks">above</a>).</li>
<li>If the <code>scroll-behavior</code> CSS property is set to <code>smooth</code> on the <code>body</code> (see <a href="#enablingnativesmooth-scrollinginthebrowser">above</a>). In this case the browser is already smooth-scrolling within the same page.</li>
</ol>

<p>If you want only some of the links to be excluded from the automatic smoothing then start with the path of the page. E.g., instead of writing <code>&lt;a href=&quot;#about&quot;&gt;</code> use <code>&lt;a href=&quot;/#about&quot;&gt;</code>.</p>

<p>The scroll is also animated when the Back and Forward buttons are used. (Note that it remembers the vertical scroll position but it doesn’t calculate changes caused by browser window resizing or collapsing/expanding elements, etc.) This functionality requires browser support for <code>history.scrollRestoration</code> which is available in Chrome 46+ and Firefox 46+. WebKit already has a <a href="https://bugs.webkit.org/show_bug.cgi?id=147782">ticket</a> for it, in the meantime you can use a polyfill for Safari, like <a href="https://github.com/bfred-it/scroll-restoration-polyfill">scroll-restoration-polyfill</a>.</p>

<p>Automatic smooth-scrolling works also with content you dynamically load via AJAX, as Zenscroll uses a generic click handler. Since the automatic smooth-scrolling is implemented a progressive enhancement, internal links work in older browsers as well.</p>

<h3 id="2.scrolltothetopofanelement">2. Scroll to the top of an element</h3>

<pre><code class="js">var about = document.getElementById(&quot;about&quot;)
zenscroll.to(about)
</code></pre>

<p>Note that Zenscroll intentionally leaves a few pixels (by default 9px) from the edges of the screen or scolling container. If you have a fixed navigation bar or footer bar then you probably need more than that. Or you may want to set it to zero. You can globally override the default value by calling <code>zenscroll.setup()</code> (see below), or by providing the <code>edgeOffset</code> parameter when you create a scroller for a DIV, e.g., <code>zenscroll.createScroller(myDiv, null, 0)</code></p>

<h3 id="3.scrolltoaspecificverticalposition">3. Scroll to a specific vertical position</h3>

<pre><code class="js">zenscroll.toY(50)
</code></pre>

<h3 id="4.scrollanelementintoview">4. Scroll an element into view</h3>

<p>If the element is already fully visible then no scroll is performed. Otherwise Zenscroll will try to make both top &amp; bottom of element visible, if possible. If the element is higher than the visible viewport then it will simply scroll to the top of the element. </p>

<pre><code class="js">zenscroll.intoView(image1)
</code></pre>

<p>Tip: If you resize an element with a transition of 500ms, you can postpone calling zenscroll with that amount of time:</p>

<pre><code class="js">image.classList.remove(&quot;is-small&quot;)
setTimeout(function () { 
    zenscroll.intoView(image2) 
}, 500)
</code></pre>

<h3 id="5.scrollstheelementtothecenterofthescreen">5. Scrolls the element to the center of the screen</h3>

<pre><code class="js">zenscroll.center(image2)
</code></pre>

<p>If you want you can also define an offset. The top of the element will be upwards from the center of the screen by this amount of pixels. (By default offset is the half of the element’s height.)</p>

<pre><code class="js">var duration = 500 // miliseconds
var offset = 200 // pixels
zenscroll.center(image2, duration, offset)
</code></pre>

<p>Note that a zero value for offset is ignored. You can work around this by using <code>zenscroll.toY()</code>.</p>

<h3 id="6.setthedurationofthescroll">6. Set the duration of the scroll</h3>

<p>The default duration is 999 which is ~1 second. The duration is automatically reduced for elements that are very close. You can specifically set the duration for each scroll function via an optional second parameter. (Note that a value of zero for duration is ignored.)</p>

<p>Examples:</p>

<pre><code class="js">zenscroll.toY(50, 100) // 100ms == 0.1 second
</code></pre>

<pre><code class="js">zenscroll.to(about, 500) // 500ms == half a second
</code></pre>

<pre><code class="js">zenscroll.center(image2, 2000) // 2 seconds
</code></pre>

<h3 id="7.scrollinsideascrollablediv">7. Scroll inside a scrollable DIV</h3>

<p>Anything you can do within the document you can also do inside a scrollable element. You just need to instantiate a new scoller for that element. I will also fall back by default to the native browser smooth-scrolling if available (which can be overridden via <code>setup()</code>).</p>

<p><strong>Important:</strong> the container DIV must have its <code>position</code> CSS property set to <code>relative</code>, <code>absolute</code> or <code>fixed</code>. If you want to keep it in the normal document flow, just assign <code>position: relative</code> to it via a class or a <code>style</code> attribute, like in the example below:</p>

<pre><code class="html">&lt;div id=&quot;container&quot; style=&quot;position: relative&quot;&gt;
  &lt;div id=&quot;item1&quot;&gt;ITEM 1&lt;/div&gt;
  &lt;div id=&quot;item2&quot;&gt;ITEM 2&lt;/div&gt;
  &lt;div id=&quot;item3&quot;&gt;ITEM 3&lt;/div&gt;
  &lt;div id=&quot;item4&quot;&gt;ITEM 4&lt;/div&gt;
  &lt;div id=&quot;item5&quot;&gt;ITEM 5&lt;/div&gt;
  &lt;div id=&quot;item6&quot;&gt;ITEM 6&lt;/div&gt;
  &lt;div id=&quot;item7&quot;&gt;ITEM 7&lt;/div&gt;
&lt;/div&gt;

&lt;script&gt;
  var defaultDuration = 500
  var edgeOffset = 30
  var myDiv = document.getElementById(&quot;container&quot;)
  var myScroller = zenscroll.createScroller(myDiv, defaultDuration, edgeOffset)
  var target = document.getElementById(&quot;item4&quot;)
  myScroller.center(target)
&lt;/script&gt;
</code></pre>

<p>Obviously you can use all other scroll functions and parameters with the scrollable container. Two more examples:</p>

<pre><code class="js">myScroller.toY(35)
</code></pre>

<pre><code class="js">myScroller.intoView(target)
</code></pre>

<h3 id="8.executesomethingwhenthescrollingisdone">8. Execute something when the scrolling is done</h3>

<p>You can provide a callback function to all four scroll functions, which is executed when the scroll operation is finished. For example, you change some UI elements but first you want to make sure that the relevant elements are visible.</p>

<p>If you look at the code examples above under the previous point, <a href="#7.scrollinsideascrollablediv">Scroll inside a scrollable DIV</a> they are actually implemented like this:</p>

<pre><code class="js">// Last line of example 1:
zenscroll.intoView(container, 100, function () { myScroller.center(target) })

// Example 2:
zenscroll.intoView(container, 100, function () { myScroller.toY(35) })

// Example 3:
zenscroll.intoView(container, 100, function () { myScroller.intoView(target) })
</code></pre>

<p>So first the container (with <em>ITEM 1</em> to <em>ITEM 7</em>) is scrolled into view if necessary, and then the scrolling inside the container is performed. Try scrolling out the above container and then hit one of the ‘Play’ buttons above to see how it works.</p>

<p>This works with all four scrolling functions. The <code>onDone</code> parameter is always the last parameter:</p>

<ol>
<li><code>to(element, duration, onDone)</code></li>
<li><code>toY(y, duration, onDone)</code></li>
<li><code>intoView(element, duration, onDone)</code></li>
<li><code>center(element, duration, offset, onDone)</code></li>
</ol>

<h3 id="9.changesettings">9. Change settings</h3>

<p>It’s easy to change the basic parameters of scrolling:</p>

<ul>
<li>You can set the default value for duration. This will be valid for internal scrolls and all your direct scroll calls where you don’t specify a duration.</li>
<li>Change the edge offset (the spacing between the element and the screen edge). If you have a fixed navigation bar or footer bar then set the offset to their height.</li>
</ul>

<pre><code class="js">var defaultDuration = 777 // ms
var edgeOffset = 42 // px
zenscroll.setup(defaultDuration, edgeOffset)
</code></pre>

<p>You can change custom scrollers similarly:</p>

<pre><code class="js">myScroller.setup(500, 10)
</code></pre>

<p>If you don’t want to change a value just omit the parameter or pass <code>null</code>. For example, the line below sets the default duration, while leaving other settings unchanged:</p>

<pre><code class="js">zenscroll.setup(777)
</code></pre>

<p>Sets the the spacing between the edge of the screen (or a DIV) and the target element you are scrolling to, while leaving the default duration unchanged:</p>

<pre><code class="js">zenscroll.setup(null, 42)
</code></pre>

<h3 id="10.controllingthesmoothoperation">10. Controlling the smooth operation</h3>

<p>To check whether a scoll is being performed right now:</p>

<pre><code class="js">var isScrolling = zenscroll.moving()
</code></pre>

<p>To stop the current scrolling:</p>

<pre><code class="js">zenscroll.stop()
</code></pre>


<h2 id="license">License</h2>

<p><a href="http://unlicense.org">Public Domain</a>. You can do with it whatever you want and I am not responsible for anything.</p>




	<div class="about-me">
		
		<h2>About Me</h2>
		
		<p>
			<a href="http://www.gaborlenard.com/"><img class="avatar" src="zengabor.jpg" alt="Gabor Lenard">My name is Gabor Lenard.</a> 
			You can find me on Twitter as <a href="https://twitter.com/zengabor">@zengabor</a>.
			I am a product designer &amp; maker, currently building <a href="http://zenvite.com/">zenvite.com</a>. It never ceases to amaze me how people share their knowledge and what they make. Their work empowers us all. This here, however humble, is my way of contributing to this community &amp; the wonderful <a href="https://adactio.com/journal/6692">continuum</a> we call the world&nbsp;wide&nbsp;web.
		</p>

	</div>

		
			<p>Other projects by me:</p>

<ul>
<li><a href="https://github.com/zengabor/zenfonts">Zenfonts</a>, a tiny JavaScript helper for @font-face web font loading.</li>
<li><a href="http://zenvite.com/">Zenvite.com</a>: Create invitation pages &amp; get everybody on the same page.</li>
</ul>


		</section>
		
	</main>
	
	<footer class="dark">
		<div class="back-to-top"><a href="#"><strong>Back to Top &uarr;</strong></a></div>
		<small>
			&copy; 2015–2016 Gabor Lenard
		</small>
	</footer>
	
	<script src="zenscroll-min.js"></script>

	<script src="demo.js"></script>

	<script src="highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad()</script>

</body>
</html>
